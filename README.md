# Status Links Service

Микросервис для массовой проверки доступности URL-адресов с генерацией PDF-отчётов и поддержкой восстановления незавершённых задач после перезапуска.

---

## Основные возможности

- **Массовая проверка статусов** — HTTP-запросы к списку URL
- **Генерация PDF-отчётов** — автоматическое формирование структурированного отчёта в формате PDF  
- **Восстановление состояния** — автоматическое сохранение/восстановление незавершённых задач после сбоя или перезапуска  
- **Экспорт результатов** — ZIP-архив с сырыми данными (JSON) + PDF-отчёт для аудита и отладки  

---

## Архитектура

- **Модульная структура**: `handlers`, `service`, `storage`  —  разделение ответственности  
- **Временное хранение**: данные задач проходят сохраняются в буфер для быстрого взаимодействия. В постоянное хранилище данные поступают асинхронно 
- **Долговременное хранение**: журнал  
- **Тестирование**: покрытие критических компонентов 

---

## API

| Эндпоинт                     | Метод | Описание                              |
|------------------------------|-------|----------------------------------------|
| `/api/saveNewUrls`           | POST  | Принимает список URL для проверки      |
| `/api/loadUrls`              | GET   | Возвращает PDF-отчёт по ID задач       |
| `/api/loadUnfinishedWork`    | GET   | Восстанавливает и завершает "зависшие" задачи, возвращает результат (Zip с .txt и .PDFs) |


----
## Запуск
```bash
make build

./bin/status-links
```
---
### Примеры использования

## 1. Отправка новых URL для проверки
```bash
curl -X POST http://localhost:8080/api/saveNewUrls \
  -H "Content-Type: application/json" \
  -d '{
    "links": [
      "https://exame.sdfcom",
      "https://google.com",
      "https://github.com"
    ]
  }'
```
## 2. Получение PDF-отчёта
```bash
curl -X GET http://localhost:8080/api/loadUrls \
  -H "Content-Type: application/json" \
  -d '{"links_list": [1, 2, 3]}' \
  --output report.pdf
```
## 3. Восстановление после сбоя
```bash
curl http://localhost:8080/api/loadUnfinishedWork --output result.pdf
```
### Тестирование
```bash
make test
```
---
## Скриншоты
<div align="center">

### Результат подгрузки незавершеннх процессов
![Форма регистрации](./static/photo/photoForREADME/photo.png) 

</div>
